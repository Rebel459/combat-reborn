// Adjust the output jar name here
base {
    archivesName = "${mod_id}-neoforge"
}

dependencies {
    // Add your dependencies here
    modImplementation("me.shedaniel.cloth:cloth-config-neoforge:${project.cloth_config_version}") {}

    modImplementation ("net.rebel459.combat_reborn:unified-api-neoforge-21.11-b1.0")

    // Do not edit or remove
    implementation project(":common")
}

/**
 * ===============================================================================
 * =       DO NOT EDIT BELOW THIS LINE UNLESS YOU KNOW WHAT YOU ARE DOING        =
 * ===============================================================================
 */

unimined.minecraft {
    combineWith(project(":common").sourceSets.withoutFMJ)

    neoForged {
        loader neoforge_version
        mixinConfig("combat_reborn.mixins.json", "combat_reborn-neoforge.mixins.json")
        accessTransformer aw2at(file("../common/src/main/resources/combat_reborn.accesswidener"))
        accessTransformer file('src/main/resources/META-INF/accesstransformer-neoforge.cfg')
    }
}


processResources {
    from project(":common").sourceSets.main.resources
    def buildProps = project.properties.clone()

    filesMatching("META-INF/neoforge.mods.toml") {
        expand buildProps
    }
}

compileTestJava.enabled = false

tasks.withType(JavaCompile).configureEach {
    source(project(":common").sourceSets.main.allSource)
}